"use strict";function Attributer(){if(void 0!==Attributer.prototype.singleton)return Attributer.prototype.singleton;Attributer.prototype.singleton=this;var a=[],b=-1,c=!0;a[0]=function(a,c){return a.hasAttribute&&a.hasAttribute(c)&&a.getAttribute?(b=0,a.getAttribute(c)):a.getAttribute?(b=0,a.getAttribute(c)):""},a[1]=function(a,c){return a.getAttributeNode?(b=1,a.getAttributeNode(c)):""},a[2]=function(a,c){if("attributes"in a||a.attributes){if(!(c in a.attributes)&&a.attributes.length>0&&"nodeName"in a.attributes[0]){for(var d=0,e=a.attributes.length;e>d;d+=1)if(a.attributes[d].nodeName===c)return b=2,a.attributes[d].nodeName;return""}return c in a.attributes?((""!==a.attributes[c]||null!==a.attributes[c])&&(b=2),a.attributes[c]):""}return""},a[3]=function(a,c){return c in a?(b=3,a.n):""},this.get=function(d,e){if(void 0===d||!isHTMLElement(d))return void 0;if(c&&-1===b){for(var f=0;-1===b&&f<a.length;){try{a[f](d,e)}catch(g){}f+=1}-1===b&&(c=!1)}return-1!==b&&c?a[b](d,e):void 0};var d=[],e=-1,f=-1;d[0]=function(a,b,c){if(a.hasAttribute&&a.setAttribute){e=0;try{return a.setAttribute(b,c),(new Attributer).get(a,b)===c?!0:!1}catch(d){return!1}}},d[1]=function(a,b,c){if(a.setAttributeNode){e=1;try{return a.setAttributeNode(b,c),(new Attributer).get(a,b)===c?!0:!1}catch(d){return!1}}},d[2]=function(a,b,c){if("attributes"in a||a.attributes)if(!(b in a.attributes)&&a.attributes.length>0&&"nodeName"in a.attributes[0]){e=2;for(var d=!1,f=0,g=a.attributes.length;g>f;f+=1)if(a.attributes[f].nodeName===b){d=!0;try{return a.attributes[f].nodeValue=c,(new Attributer).get(a,b)===c?!0:!1}catch(h){return!1}}if(!d)try{return a.attributes.push({nodeName:b,nodeValue:c}),(new Attributer).get(a,b)===c?!0:!1}catch(h){return!1}}else try{return a.attributes[b]=c,(new Attributer).get(a,b)===c?!0:!1}catch(h){return!1}},this.set=function(a,b,c){if(void 0===a||!isHTMLElement(a))return void 0;var g=!1,h="";try{h=(new Attributer).get(a,b)}catch(i){g=!0}if(!g){if(f&&-1===e){for(var j=0;-1===e&&j<d.length;){try{d[j](a,b,c)}catch(i){}j+=1}-1===e&&(f=!1)}if(-1!==e&&f)return d[e](a,b,c)}};var g=!0,h=-1,i=[];i[0]=function(a,b){if(!a.hasAttribute||!a.removeAttribute)return!1;h=0;try{return a.removeAttribute(b),void 0===(new Attributer).get(a,b)?!0:!1}catch(c){return!1}},i[1]=function(a,b){if(!a.removeAttributeNode)return!1;h=1;try{return a.removeAttributeNode(b),void 0===(new Attributer).get(a,b)?!0:!1}catch(c){return!1}},i[2]=function(a,b){if(!("attributes"in a||a.attributes))return!1;if(e=2,!(b in a.attributes)&&a.attributes.length>0&&"nodeName"in a.attributes[0]){for(var c=!1,d=-1,f=!1,g=0,h=a.attributes.length;h>g;g+=1)if(a.attributes[g].nodeName===b){c=!0;try{a.attributes.splice(g,1),d=g,f=void 0===(new Attributer).get(a,b)?!0:!1;break}catch(i){}}if(c&&!f&&-1!==d)return a.attributes[g]=null,void 0===(new Attributer).get(a,b)?!0:!1;if(!c)return!1}else try{return a.attributes[b]=null,void 0===(new Attributer).get(a,b)?!0:!1}catch(i){return!1}},this.remove=function(a,b){if(void 0===a||!isHTMLElement(a))return!1;var c=!1,d="";try{d=(new Attributer).get(a,b)}catch(e){c=!0}if(!c&&""!==d){if(g&&-1===h){for(var f=0,j=!1;-1===h&&f<i.length;){try{j=i[f](a,b)}catch(e){}f+=1}return-1===h&&(g=!1),j}return-1!==h&&g?i[h](a,b):!1}}}function getAttributer(a,b){return(new Attributer).get(a,b)}function removeAttributer(a,b){return(new Attributer).remove(a,b)}function setAttributer(a,b,c){return(new Attributer).set(a,b,c)}