"use strict";var adr=__imns("component.classes");"MinMaxController"in adr||(adr.MinMaxController=function(a){this.max=0,this.min=0,this.step=1,this.min_element="",this.max_element="",this.beenSet=!1,this.rounding=0,void 0!==a&&this.init(a)},adr.MinMaxController.prototype.setMinimumElement=function(a){var b=__imns("util.validation");void 0!==a&&b.isHTMLElement(a)&&(this.min_element=a,this.beenSet||this.setMinMax(this.min_element))},adr.MinMaxController.prototype.setMaximumElement=function(a){var b=__imns("util.validation");void 0!==a&&b.isHTMLElement(a)&&(this.max_element=a,this.beenSet||this.setMinMax(this.max_element))},adr.MinMaxController.prototype.setMinMax=function(a){var b=__imns("util.validation");if(this.beenSet)return!1;var c="",d=-1,e=-1,f=1,g=0;return"object"==typeof a&&(c="element"in a&&void 0!==a.element&&b.isHTMLElement(a.element)?a.element:"",d="min"in a?a.min:""!==c?$(c).attr("min"):-1,e="max"in a?a.max:""!==c?$(c).attr("max"):-1,g="rounding"in a?a.rounding:"round"in a?a.round:0,f="step"in a?a.step:""!==c?$(c).attr("step"):1),-1!==d&&-1!==e?(this.max=Number(e),this.min=Number(d),this.step=Number(f),this.round=Number(g),this.beenSet=!0,!0):!1},adr.MinMaxController.prototype.init=function(a){"object"==typeof a&&("minimum_element"in a?this.setMinimumElement(a.minimum_element):"min_element"in a&&this.setMinimumElement(a.min_element),"maximum_element"in a?this.setMaximumElement(a.maximum_element):"max_element"in a&&this.setMaximumElement(a.max_element),"step"in a&&(this.step=Number(a.step)),"round"in a&&(this.rounding=Number(a.round)),"min"in a&&(this.min=Number(a.min)),"max"in a&&(this.max=Number(a.max))),this.calc();var b=this;$(this.min_element).bind("change",function(){b.change(this)}),$(this.max_element).bind("change",function(){b.change(this)})},adr.MinMaxController.prototype.calc=function(){if(this.beenSet){var a="value"in this.min_element?this.min_element.value:$(this.min_element).attr("value"),b="value"in this.max_element?this.max_element.value:$(this.max_element).attr("value");a=Number(a),b=Number(b),$(this.min_element).attr("max",b-this.step),$(this.max_element).attr("min",a+this.step)}},adr.MinMaxController.prototype.valueChange=function(a,b){return isNaN(Number(a))?a=b:(a=Number(a),a=this.rounding>0?10*a*this.rounding:a,a=Math.round(a),a=this.rounding>0?a/(10*this.rounding):a),Number(a)},adr.MinMaxController.prototype.change=function(a){var b=0;if(a===this.min_element){var c="value"in this.min_element?this.min_element.value:$(this.min_element).attr("value");c=Number(c),b=this.valueChange(c,this.min),b!==c&&(c=b,this.min_element.value=c),c<this.min&&(this.min_element.value=this.min),c>this.max-this.step&&(this.min_element.value=this.max-this.step),this.max_element.value<c&&(this.max_element.value=c+this.step),this.max_element.value<this.max&&(this.max_element.value=this.max),this.calc()}else if(a===this.max_element){var d="value"in this.max_element?this.max_element.value:$(this.max_element).attr("value");d=Number(d),b=this.valueChange(d,this.max),b!==d&&(d=b,this.max_element.value=d),d>this.max&&(this.max_element.value=this.max),d<this.min+this.step&&(this.max_element.value=this.min+this.step),this.min_element.value>d&&(this.min_element.value=d-this.step),this.calc()}});