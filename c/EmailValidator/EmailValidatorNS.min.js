"use strict";var uv=__imns("util.validation"),adr=__imns("util.classes");"EmailValidator"in adr||(adr.EmailValidator=function(){var a=__imns("util.classes");return void 0!==a.EmailValidator.prototype.singleton?a.EmailValidator.prototype.singleton:void(a.EmailValidator.prototype.singleton=this)},adr.EmailValidator.prototype.localStringCheck=function(a){var b=!1,c=/ /;return"string"==typeof a&&"."!==a.charAt(0)&&"."!==a.charAt(a.length-1)&&a.indexOf("..")!==!0&&(b=!0),b?(c=/^[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~\.]?[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~\.]*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~\.]$/,c.test(a)===!1?!1:!0):!1},adr.EmailValidator.prototype.ipAddressFormatCheck=function(a){var b=__imns("util.validation"),c=a.split("."),d=1,e=0,f=0;if(4!==c.length)return!1;for(d=1,e=0,f=c.length;f>e;e+=1){var g=c[e];if(b.isNumber(g)&&Math.round(g)!==g){if(g>-1&&256>g)continue;return!1}return!1}return!0},adr.EmailValidator.prototype.checkEmailLocalPart=function(a){var b=[];if("string"==typeof a&&a.length<=64){if(-1===a.indexOf('"'))return this.localStringCheck(a);if(b=a.split('"'),3===b.length&&'"'===a.charAt(0)&&'"'===a.charAt(a.length-1))return!0}return!1},adr.EmailValidator.prototype.checkEmailDomainPart=function(a){var b=[],c=[];if("string"==typeof a){if("["===a.charAt(0)&&"]"===a.charAt(a.length-1)){b=a.split(":"),c=a.split(".");var d=b.length,e=c.length;if(d>2&&2===e)return d>8?!1:this.ipNewRegExp(a);if(d>2&&4===e||1===d&&4===e){var f=b[d-1],g=[];return f=f.slice(0,-1),g=f.split("."),4===g.length?this.ipAddressFormatCheck(f.slice(1)):!1}return!1}return this.domainRegExp(a)}return!1},adr.EmailValidator.prototype.ipNewRegExp=function(a){if("string"==typeof a){var b=/^\[((\d|[a-fA-F]){0,4}\:)+((\d|[a-fA-F]){0,4}\])$/;return b.test(a)===!0?!0:!1}return!1},adr.EmailValidator.prototype.domainRegExp=function(a){if("string"==typeof a){var b=/^\w+([\.-]?\w+)*\.+(\w{2,63})+$/i;return b.test(a)===!0?!0:!1}return!1},adr.EmailValidator.prototype.validate=function(a){var b=a;if("string"==typeof b){var c=b.split("@");if(2===c.length){var d=c[0],e=c[1];return this.checkEmailLocalPart(d)?this.checkEmailDomainPart(e):!1}if(c.length>2){var f=b.split('"');if(3===f.length&&'"'===b.charAt(0)){var g=/(\"\@(\w|\.|\-)+)$/;if(g.test(b)===!1)return!1;var h=c[c.length-1];return this.checkEmailDomainPart(h)}return!1}return!1}return!1},uv.validatePassedEmail=function(a){var b=__imns("util.classes");return(new b.EmailValidator).validate(a)});