"use strict";!function(){var a=__imns("component.classes");a.FiveSecondTester=function(b){return void 0!==a.FiveSecondTester.prototype.singleton?a.FiveSecondTester.prototype.singleton:(a.FiveSecondTester.prototype.singleton=this,this.timeout=null,this.on=-1,this._testareaname="testarea",this.tests=[],void(void 0!==b&&this.setTests(b)))},a.FiveSecondTester.prototype.setTests=function(a){var b=__imns("util.validation"),c=__imns("component.classes"),d=this.tests.length;a=b.isArray(a)?a:[a];for(var e=0,f=a.length;e<f;e+=1){var g=new c.FiveSecondTest(a[e]);g.isValid()&&this.tests.push(g)}return this.tests.length!==d},a.FiveSecondTester.prototype.getTestArea=function(){var a=__imns("util.dom"),b=__imns("util.validation"),c=a.findElementById(this._testareaname);return void 0!==c&&b.isHTMLElement(c)?c:void 0},a.FiveSecondTester.prototype.testAreaExists=function(){return void 0!==this.getTestArea()},a.FiveSecondTester.prototype.buildTestArea=function(){return!this.testAreaExists()},a.FiveSecondTester.prototype.showTest=function(a){var b=__imns("component.classes");return a=void 0!==a&&a instanceof b.FiveSecondTest?a:this.nextTest(),null!==a},a.FiveSecondTester.prototype.nextTest=function(){return this.on+=1,this.on>=this.tests.length?(this.finishTests(),null):this.tests[this.on]},a.FiveSecondTester.prototype.clearTime=function(){return null!==this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null,!0)},a.FiveSecondTest=function(a,b){this._testfile="",this._question=""},a.FiveSecondTest.prototype.defaultQuestion="Click when you are ready to start&#8230;",a.FiveSecondTest.prototype.isValid=function(){return""!==this._testfile},a.FiveSecondTest.prototype.setTestFile=function(a){var b=__imns("util.validation");return!!b.isString(a)&&(this._testfile=a,!0)},a.FiveSecondTest.prototype.setQuestion=function(a){var b=__imns("util.validation");return!!b.isString(a)&&(this._question=a,!0)},a.FiveSecondTest.prototype.getQuestion=function(){var a=__imns("util.validation"),b=__imns("component.classes");return a.isString(this._question)?this._question:b.FiveSecondTest.prototype.defaultQuestion},a.FiveSecondTest.prototype.whatTest=function(){var a=__imns("util.tools");if(this.isValid()){var b=new a.PathInfo(this._testfile).extension;switch(b){case"jpg":case"jpeg":case"gif":case"png":case"svg":case"tif":return"img";default:return"file"}}return!1},a.FiveSecondTest.prototype.runTest=function(a){var b=__imns("util.validation"),c=__imns("component.classes");if(a=b.isFunction(a)?a:(new c.FiveSecondTester).next,this.isValid()){var d=new c.FiveSecondTester;d.clearTime(),d.timeout=window.setTimeout(a,5e3)}else a()}}();