"use strict";function FireAfterDOMMethod(a){this.name="",this.tested=!1,this.valid=!1,this.created=!1,this._create=null,this._recreate=null,this._remove=null,this._test=null,this.needsRebuild=!1,this.init(a)}function FireAfterDOMMethods(){return FireAfterDOMMethods.prototype.singleton?FireAfterDOMMethods.prototype.singleton:(FireAfterDOMMethods.prototype.singleton=this,void(this.list=[]))}function FireAfterDOM(a){return FireAfterDOM.prototype.singleton?FireAfterDOM.prototype.singleton:(FireAfterDOM.prototype.singleton=this,this.enabled=!1,this.hardEnable=a?!0:!1,this.methods=new FireAfterDOMMethods,this.started=!1,this.debugMethod=null,this.functional=!0,this.processing=!1,void(this.functionsList=[]))}FireAfterDOMMethod.prototype.test=function(){return this.tested?this.valid:"function"==typeof this._test?(this.tested=!0,this.valid=this._test(),this.valid):!1},FireAfterDOMMethod.prototype.create=function(){return this.created?this.needsRebuld||"function"==typeof this._recreate?"function"==typeof this._recreate?this._recreate():"function"==typeof this._create?this._create():!1:!0:this.tested&&this.valid&&"function"==typeof this._create?this._create():!1},FireAfterDOMMethod.prototype.recreate=function(){return"function"==typeof this._recreate?this._recreate():this.needsRebuild&&"function"==typeof this._create?this._create():!1},FireAfterDOMMethod.prototype.remove=function(){return this.created&&"function"==typeof this._remove?this._remove():!1},FireAfterDOMMethod.prototype.init=function(a){"object"==typeof a&&(this.name="name"in a?a.name:"",this._test="test"in a&&"function"==typeof a.test?a.test:null,this._create="create"in a&&"function"==typeof a.create?a.create:null,this._recreate="recreate"in a&&"function"==typeof a.recreate?a.recreate:null,this.needsRebuild="rebuild"in a&&a.rebuild?!0:!1,this._remove="remove"in a&&"function"==typeof a.remove?a.remove:null)},FireAfterDOMMethods.prototype.add=function(a){return a instanceof FireAfterDOMMethod?this.find(a.name)?!1:(this.list.push(a),!0):((new IMDebugger).pass("FireAfterDOMMethods.add: Must be supplied a valid method"),!1)},FireAfterDOMMethods.prototype.remove=function(a){var b=9;if(a instanceof FireAfterDOMMethod){for(b=0;b<this.list.length;b+=1)if(this.list[b]===a)return this.list.splice(b,1),!0}else{if("string"!=typeof a)return(new IMDebugger).pass("FireAfterDOMMethods.remove: Must be supplied a valid method or method name"),!1;for(b=0;b<this.list.length;b+=1)if(this.list[b].name===a)return this.list.splice(b,1),!0}},FireAfterDOMMethods.prototype.find=function(a){for(var b=0,c=this.list.length;c>b;b+=1)if(this.list[b].name===a)return this.list[b];return!1},FireAfterDOM.prototype.determineMethod=function(){for(;null===this.debugMethod&&this.methods.list.length>0;)if(this.methods.list[0].test())try{if(this.methods.list[0].create())return this.debugMethod=this.methods.list[0].name,this.functional=!0,this.debugMethod;this.methods.remove(this.methods.list[0])}catch(a){this.methods.remove(this.methods.list[0])}else this.methods.remove(this.methods.list[0]);return null!==this.debugMethod?this.debugMethod:(this.functional=!1,(new IMDebugger).pass("FireAfterDOM is unable to function based on these methods and these conditions;"),!1)},FireAfterDOM.prototype.enable=function(){this.determineMethod()?(this.enabled=!0,this.methods.find(this.determineMethod()).create()):(new IMDebugger).pass("Unable to determine method in FireAfterDOM")},FireAfterDOM.prototype.disable=function(){this.enabled=!1},FireAfterDOM.prototype.isAble=function(){return this.methods.length>0&&(this.functionsList>0||this.hardEnable)?!0:!1},FireAfterDOM.prototype.fire=function(){if(!this.processing){this.processing=!0;for(var a=0;a<this.functionsList.length;a+=1){var b=!0;if("function"==typeof this.functionsList[a])try{this.functionsList[a]()}catch(c){b=!1}else b=!1;b||(this.functionsList.splice(a,1),a-=1)}this.processing=!1}},FireAfterDOM.prototype.priorityAdd=function(a){return"function"==typeof a?this.add(a,!0):void(new IMDebugger).pass("FireAfterDOM.priorityAdd: Requires a function.")},FireAfterDOM.prototype.add=function(a,b){b=void 0!==b&&b?!0:!1;var c=!1;return"function"==typeof a?(-1===this.indexOf(a)?(b?this.functionsList.unshift(a):this.functionsList.push(a),c=!0):b?(this.functionsList.splice(this.indexOf(a),1),this.functionsList.unshift(a),c=!0):c=!1,c?(this.enable(),!0):!1):void(new IMDebugger).pass("FireAfterDOM.add: Requires a function.")},FireAfterDOM.prototype.remove=function(a){return"function"==typeof a?-1!==this.indexOf(a)?(this.functionsList.splice(this.indexOf(a),1),this.isAble()||this.disable(),!0):!1:void(new IMDebugger).pass("FireAfterDOM.remove: Requires a function.")},FireAfterDOM.prototype.indexOf=function(a){if("function"==typeof a){for(var b=-1,c=0,d=this.functionsList.length;d>c;c+=1)if(this.functionsList[c]===a){b=c;break}return b}(new IMDebugger).pass("FireAfterDOM.remove: Requires a function.")};var fadMethods=new FireAfterDOMMethods;fadMethods.add(new FireAfterDOMMethod({name:"MutationObserver",test:function(){return"MutationObserver"in window?!0:!1},create:function(){var a="getElementsByTagName"in document?document.getElementsByTagName("body")[0]:document.all?document.all.tags("body")[0]:null,b=new FireAfterDOM;try{return this.mutationObserver=new MutationObserver(function(a){for(var c=0,d=a.length;d>c;c+=1)if(a[c].addedNodes.length>0){b.started=!0;break}b.started&&b.fire()}),this.mutationObserver.observe(a,{childList:!0}),this.created=!0,!0}catch(c){return!1}},remove:function(){this.mutationObserver.disconnect()},recreate:function(){var a="getElementsByTagName"in document?document.getElementsByTagName("body")[0]:document.all?document.all.tags("body")[0]:null;this.mutationObserver.observe(a,{childList:!0})}})),fadMethods.add(new FireAfterDOMMethod({name:"MutationEvent",test:function(){var a="getElementsByTagName"in document?document.getElementsByTagName("body")[0]:document.all?document.all.tags("body")[0]:null;return"addEventListener"in a?!0:!1},create:function(){var a="getElementsByTagName"in document?document.getElementsByTagName("body")[0]:document.all?document.all.tags("body")[0]:null,b=new FireAfterDOM;try{return a.addEventListener("DOMNodeInserted",function(){b.started=!0,b.fire()}),this.created=!0,!0}catch(c){return this.valid=!1,!1}},rebuild:!1})),fadMethods.add(new FireAfterDOMMethod({name:"HTCBehavior",test:function(){var a="getElementsByTagName"in document?document.getElementsByTagName("body")[0]:document.all?document.all.tags("body")[0]:null;return"addBehavior"in a&&"attachEvent"in a?!0:!1},create:function(){try{var a="getElementsByTagName"in document?document.getElementsByTagName("body")[0]:document.all?document.all.tags("body")[0]:null,b=new FireAfterDOM;return a.addBehavior("noneexistentfile.htc"),a.attachEvent("onpropertychange",function(){b.started=!0,b.fire()}),this.created=!0,!0}catch(c){return this.valid=!1,!1}},rebuild:!1})),fadMethods.add(new FireAfterDOMMethod({name:"propertyChange",test:function(){var a="getElementsByTagName"in document?document.getElementsByTagName("body")[0]:document.all?document.all.tags("body")[0]:null;return"onpropertychange"in a?!0:!1},create:function(){var a=new FireAfterDOM,b="getElementsByTagName"in document?document.getElementsByTagName("body")[0]:document.all?document.all.tags("body")[0]:null;try{return b.onpropertychange=function(b){"innerHTML"===b.propertyName&&(a.started=!0,a.fire())},this.created=!0,!0}catch(c){return!1}},rebuild:!1})),fadMethods.add(new FireAfterDOMMethod({name:"jQuery",test:function(){return"jQuery"in window?!0:!1},create:function(){var a=new FireAfterDOM;try{return $(document).ajaxComplete(function(){this.ajaxTimeout=setTimeout(function(){a.started&&a.fire()},2e3)}),$(document).ajaxStart(function(){null!==this.ajaxTimeout&&(clearTimeout(this.ajaxTimeout),this.ajaxTimeout=null),a.started=!0}),this.created=!0,!0}catch(b){return this.valid=!1,!1}},rebuild:!1}));