"use strict";var adr=__imns("util.classes");"SupportedCSSProperty"in adr||(adr.SupportedCSSProperty=function(a,b){var c=__imns("util.classes");if(this.tested=!1,this.exists=!1,this.searchedProperty="",this.jsProperty="",this.cssProperty="",this._cssProperty="",this._jsProperty="",this.jsRE=/^[A-Za-z0-9]+$/g,this.cssRE=/^[a-z0-9\-]+$/g,this.vendorlist=new c.VendorList,this.prefixedRE=/^(-webkit-|Webkit|ms|-ms-|-moz-|Moz|O|-o-|-khtml-|Khtml)/g,(!("im_supportedcache"in window)||window.im_supportedcache instanceof c.SupportedCSSProperties)&&(window.im_supportedcache=new c.SupportedCSSProperties),this.supportedCache=new c.SupportedCSSProperties,"string"!=typeof a)throw new Error("SupportedCSSProperty must be constructed with a named property.");if(this.searchedProperty=a,a=this.isPropertyPrefixed?this.removePropertyPrefix(a):a,this._cssProperty=this.isCSSProperty(a)?a:this.returnCSSProperty(a),this._jsProperty=this.isJSProperty(a)?a:this.returnJSProperty(a),this.supportedCache.cached(this)){var d=this.supportedCache.cached(this);return d}void 0!==b?this.test(b):this.test()},adr.SupportedCSSProperty.prototype.removePropertyPrefix=function(a){var b=__imns("util.debug");if("string"==typeof a){for(var c=0,d=this.vendorlist.list.length;d>c;c+=1){var e=!1,f=this.vendorlist.list[c];if(0===a.indexOf(f.js_extension))a=a.slice(f.js_extension.length),e=!0;else{if(0!==a.indexOf(f.css_extension))continue;a=a.slice(f.css_extension.length),e=!0}if(e){var g=/^[A-Z]/g;a=g.test(a)?a.charAt(0).toLowerCase()+a.slice(1):a;break}}return a}return(new b.IMDebugger).pass("SupportedCSSPropery.removePrefixFromProperty: Must be supplied a property string"),a},adr.SupportedCSSProperty.prototype.returnJSPropertyPrefixedArray=function(){for(var a=[this._jsProperty],b=this._jsProperty.charAt(0).toUpperCase()+this._jsProperty.slice(1),c=0,d=this.vendorlist.list.length;d>c;c+=1)a.push(this.vendorlist.list[c].js_extension+b);return a},adr.SupportedCSSProperty.prototype.isPropertyPrefixed=function(a){var b=__imns("util.debug");return"string"==typeof a?this.prefixedRE.test(a)?!0:!1:((new b.IMDebugger).pass("SupportedCSSProperty.isPropertyPrefixed: Must be supplied a property string"),!1)},adr.SupportedCSSProperty.prototype.isCSSProperty=function(a){if("string"==typeof a)return this.cssRE.test(a)?!0:!1;var b=__imns("util.debug");return(new b.IMDebugger).pass("SupportedCSSProperties.isCSSProperty: Should be supplied a string"),!1},adr.SupportedCSSProperty.prototype.isJSProperty=function(a){if("string"==typeof a)return this.jsRE.test(a)?!0:!1;var b=__imns("util.debug");return(new b.IMDebugger).pass("SupportedCSSProperties.isJSProperty: Should be supplied a string"),!1},adr.SupportedCSSProperty.prototype.returnCSSProperty=function(a){if("string"==typeof a){if(a.match(/[A-Z]/)){for(var b="",c=0,d=a.length;d>c;c+=1){var e=a.charAt(c);e.match(/[A-Z]/)&&(e=e.toLowerCase(),e=c>0?"-"+e:e),b+=e}a=b}return a}var f=__imns("util.debug");return(new f.IMDebugger).pass("SupportedCSSProperties.returnCSSPropertyName: Should be supplied a string"),a},adr.SupportedCSSProperty.prototype.returnJSProperty=function(a){if("string"==typeof a){if(a.match(/\-/)){for(var b=a.split(/\-/),c="",d=0;d<b.length;d+=1)if(b[d].length<1){var e=b.slice(0,d),f=b.slice(d+1);b=e.concat(f),d-=1}else{var g=d>0?b[d].charAt(0).toUpperCase()+b[d].slice(1):b[d];c+=g}a=c}return a}var h=__imns("util.debug");return(new h.IMDebugger).pass("SupportedCSSProperties.returnJSPropertyName: Should be supplied a string"),!1},adr.SupportedCSSProperty.prototype.test=function(a){if(null!==this._jsProperty){if(this.tested)return this.exists;void 0===a&&("all"in document&&"body"in document.all?a=document.all.body:"getElementsByTagName"in document&&document.getElementsByTagName("body").length>0&&(a=document.getElementsByTagName("body")[0]));var b=null,c=null,d=this.returnJSPropertyPrefixedArray(),e="currentStyle"in a?a.currentStyle:"getComputedStyle"in window?window.getComputedStyle(a):null;if(d.length>0)if(null!==e){for(b in d)if(d.hasOwnProperty(b)&&(c=d[b],c in e)){this.jsProperty=c,this.exists=!0;break}}else if("style"in a){if("getPropertyCSSValue"in a.style)for(b in d)if(d.hasOwnProperty(b)&&(c=d[b],null!==a.style.getPropertyCSSValue(c))){this.jsProperty=c,this.exists=!0;break}if("getPropertyValue"in a.style&&!this.exists)for(b in d)if(d.hasOwnProperty(b)&&(c=d[b],null!==a.style.getPropertyValue(c))){this.jsProperty=c,this.exists=!0;break}if(!this.exists)for(b in d)if(d.hasOwnProperty(b)&&(c=d[b],c in a.style&&null!==a.style[c])){this.jsProperty=c,this.exists=!0;break}}if(this.tested=!0,this.exists||(this.jsProperty=this._jsProperty),this.isPropertyPrefixed(this.jsProperty))for(var f=0,g=this.vendorlist.list.length;g>f;f+=1){var h=this.vendorlist.list[f];if(0===this.jsProperty.indexOf(h.js_extension)){this.cssProperty=h.css_extension+this._cssProperty;break}}else this.cssProperty=this._cssProperty;return this.supportedCache.addToCache(this),this.exists}var i=__imns("util.debug");return(new i.IMDebugger).pass("SupportedCSSProperty is not correctly initialised"),!1},adr.SupportedCSSProperties=function(){var a=__imns("util.classes");return a.SupportedCSSProperties.prototype.singleton?a.SupportedCSSProperties.prototype.singleton:(a.SupportedCSSProperties.prototype.singleton=this,void(this.cache=[]))},adr.SupportedCSSProperties.prototype.cached=function(a){var b=__imns("util.classes");a instanceof b.SupportedCSSProperty||"string"==typeof a&&(a=new b.SupportedCSSProperty(a));for(var c=0,d=this.cache.length;d>c;c+=1)if(a._jsProperty===this.cache[c]._jsProperty)return this.cache[c];return!1},adr.SupportedCSSProperties.prototype.addToCache=function(a){var b=__imns("util.classes"),c=__imns("util.debug");if(a instanceof b.SupportedCSSProperty){for(var d=!1,e=0,f=this.cache.length;f>e;e+=1)if(a._jsProperty===this.cache[e]._jsProperty){d=!0;break}return d?!1:(this.cache.push(a),!0)}return(new c.IMDebugger).pass("SupportedCSSProperties.addToCache: Should be supplied a SupportedCSSProperty"),!1},adr.SupportedCSSProperties.prototype.detectProperty=function(a,b){var c=__imns("util.classes"),d=__imns("util.debug"),e=__imns("util.validation");if("string"==typeof a){var f=new c.SupportedCSSProperty(a);return this.cached(f)?this.cached(f):(f.test(e.isHTMLElement(b)?b:void 0),this.addToCache(f),f)}(new d.IMDebugger).pass("SupportedCSSProperties.detectProperty: The property must be a valid string")},adr.VendorDefinition=function(a,b,c){this.name=a,this.js_extension=b,this.css_extension=c},adr.VendorList=function(){var a=__imns("util.classes");return a.VendorList.prototype.singleton?a.VendorList.prototype.singleton:(a.VendorList.prototype.singleton=this,this.list=[],void this.init())},adr.VendorList.prototype.init=function(){this.add("ie","ms","-ms-"),this.add("webkit","Webkit","-webkit-"),this.add("mozilla","Moz","-moz-"),this.add("opera","O","-o-"),this.add("konqueror","Khtml","-khtml-")},adr.VendorList.prototype.add=function(a,b,c){for(var d=__imns("util.classes"),e=!1,f=-1,g=0,h=this.list.length;h>g;g+=1){if(this.list[g].name===a){f=g;break}if(this.list[g].js_extension===b||this.list[g].css_extension===c){e=!0;break}}return-1!==f?(this.list[g].js_extension=b,this.list[g].css_extension=c,!0):e?void 0:(this.list.push(new d.VendorDefinition(a,b,c)),!0)});