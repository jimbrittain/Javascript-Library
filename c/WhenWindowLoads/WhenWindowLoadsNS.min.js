"use strict";function WhenWindowLoads(){return WhenWindowLoads.prototype.singletonInstance?WhenWindowLoads.prototype.singletonInstance:(WhenWindowLoads.prototype.singletonInstance=this,this.created=!1,this.finished=!1,this.loaded=!1,void(this.func_arr=[]))}WhenWindowLoads.prototype.process=function(){for(;this.func_arr.length>0;){var a=this.func_arr.shift();"function"==typeof a&&a()}},WhenWindowLoads.prototype.add=function(a){if("function"!=typeof a)return!1;if(!this.finished){var b=!1;document.readyState?b="complete"===document.readyState?!0:!1:"loaded"in window&&(b=window.loaded),b&&(this.finished=!0,this.loaded=!0)}this.loaded?a():this.addToQueue(a)},WhenWindowLoads.prototype.addToQueue=function(a){var b=this;if(this.created||(window.addEventListener?window.addEventListener("load",function(){b.process()},!0):window.attachEvent?window.attachEvent("onload",function(){b.process()}):document.getElementById&&("function"==typeof window.onload&&this.func_arr.push(window.onload),window.onload=function(){b.process()}),this.created=!0),"function"==typeof a){for(var c=!0,d=0,e=this.func_arr.length;e>d;d+=1)if(this.func_arr[d]===a){c=!1;break}c&&this.func_arr.push(a)}},WhenWindowLoads.prototype.removeFromQueue=function(a){for(var b=0;b<this.func_arr.length;b+=1)a===this.func_arr[b]&&this.func_arr.splice(b,1)};