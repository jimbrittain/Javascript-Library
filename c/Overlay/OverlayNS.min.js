"use strict";var adr=__imns("component.classes");"Overlay"in adr||(adr.Overlay=function(a){var b=__imns("component.classes"),c=__imns("util.classes");return void 0!==b.Overlay.prototype.singleton?void 0!==a?b.Overlay.prototype.singleton.init(a):b.Overlay.prototype.singleton:(b.Overlay.prototype.singleton=this,this.initiated=!1,this.active=!0,this.element="",this.ovOpen=!1,this._isOpen=null,this._isClosed=null,this._open=null,this._close=null,this.animation=new c.Animation,void(void 0!==a&&this.init(a)))},adr.Overlay.prototype.addStartFunction=function(a){return void 0!==a&&"function"==typeof a?(this._open=a,!0):!1},adr.Overlay.prototype.addCloseFunction=function(a){return void 0!==a&&"function"==typeof a?(this._close=a,!0):!1},adr.Overlay.prototype.resetDefaults=function(){this._isOpen=null,this._isClosed=null,this.ovOpen=!1,this._open=null,this._close=null},adr.Overlay.prototype.init=function(a){var b=__imns("util.validation");return this.element=null!==a&&b.isHTMLElement(a)?a:null,this.parentElement=this.element.parentElement?this.element.parentElement:this.element.parentNode?this.element.parentNode:null,this.resetDefaults(),null!==this.element&&(this.initiated=!0,this.hasCloseButton()||this.buildCloseButton()),this},adr.Overlay.prototype.setActive=function(a){this.active=void 0!==a&&!a||null===this.element?!1:!0},adr.Overlay.prototype.setIsOpen=function(a){return void 0!==a&&"function"==typeof a?(this._isOpen=a,!0):!1},adr.Overlay.prototype.isOpen=function(){return null!==this._isOpen&&"function"==typeof this._isOpen?this._isOpen():this.ovOpen},adr.Overlay.prototype.setIsClosed=function(a){return void 0!==a&&"function"==typeof a?(this._isClosed=a,!0):!1},adr.Overlay.prototype.isClosed=function(){return null!==this._isClosed&&"function"==typeof this._isClosed?this._isClosed():null!==this._isOpen&&"function"==typeof this._isOpen?this._isOpen()?!1:!0:!this.ovOpen},adr.Overlay.prototype.toggle=function(){return this.isOpen()?this.close():this.open()},adr.Overlay.prototype.open=function(){__imns("util.classes");return this.active&&this.initiated?(null!==this._open&&"function"==typeof this._open&&this._open(),this.ovOpen=!0,!0):!1},adr.Overlay.prototype.close=function(){__imns("util.classes");return this.active&&this.initiated?(null!==this._close&&"function"==typeof this._close&&this._function(),this.ovOpen=!1,!0):!1},adr.Overlay.prototype.hasCloseButton=function(){var a=__imns("util.validation"),b=__imns("util.dom");if(this.initiated&&null!==this.element&&a.isHTMLElement(this.element)){var c=b.findElementById("overclose");return null!==c&&void 0!==c&&a.isHTMLElement(c)?!0:!1}return!1},adr.Overlay.prototype.buildCloseButton=function(){var a=__imns("util.validation"),b=__imns("util.tools"),c=__imns("util.dom");if(this.initiated&&!this.hasCloseButton()&&null!==this.element&&a.isHTMLElement(this.element))if("innerHTML"in this.element)this.element.innerHTML=this.element.innerHTML+'<a id="overclose">&#215;</a>';else if("createElement"in document&&"appendChild"in this.element){var d=document.createElement("a");d.setAttribute("id","overclose"),this.element.appendChild(d)}var e=c.findElementByID("overclose");if(void 0!==e&&a.isHTMLElement(e)){var f=this;return b.fetter(e,"click",[f,function(a){f.toggle(),b.preventEvent(a)}],!1),b.fetter(e,"touchstart",[f,function(a){f.toggle(),b.preventEvent(a)}],!1),!0}return!1});