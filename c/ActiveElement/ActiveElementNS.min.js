"use strict";var adr=__imns("util.classes");if(!("ActiveElement"in adr)){adr.ActiveElement=function(){var a=__imns("util.classes");return void 0!==a.ActiveElement.prototype.singleton?a.ActiveElement.prototype.singleton:(a.ActiveElement.prototype.singleton=this,this.activeElement=document,void this.init())},adr.ActiveElement.prototype.get=function(){return"activeElement"in document?document.activeElement:null!==this.activeElement?this.activeElement:document},adr.ActiveElement.prototype.init=function(){if(!("activeElement"in document)){var a=__imns("util.tools"),b=this;a.fetter(document,"focus",[b,function(a){b.set(a)}],!0),a.fetter(document,"blur",[b,function(a){b.unset(a)}],!0)}},adr.ActiveElement.prototype.set=function(a){var b=__imns("util.tools").findEventElement(a);this.activeElement=b},adr.ActiveElement.prototype.unset=function(a){__imns("util.tools").findEventElement(a);this.activeElement=null},adr.ActiveElement.prototype.inside=function(a){var b=__imns("util.validation"),c=__imns("util.dom"),d=this.get();if(b.isHTMLElement(a))for(var e=b.isHTMLElement(d)?[d]:[],f=0;f<e.length;){var g=e[f];if(g===a)return!0;var h="childNodes"in g?g.childNodes:"children"in g?g.children:[];e=e.concat(c.htmlNodesToArray(h)),f+=1}return!1},__imns("util.tools").getActiveElement=function(){return(new(__imns("util.classes").ActiveElement)).get()};var a=new(__imns("util.classes").ActiveElement)}