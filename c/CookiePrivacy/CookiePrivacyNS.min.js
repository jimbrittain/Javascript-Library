"use strict";var adr=__imns("component.classes");"CookiePrivacy"in adr||(adr.CookiePrivacy=function(a){var b=__imns("component.classes"),c=__imns("util.validation");return void 0!==b.CookiePrivacy.prototype.singleton?b.CookiePrivacy.prototype.singleton:(b.CookiePrivacy.prototype.singleton=this,this.id="cookiemsg",this.elementId="cookiemsg",this.seen=!1,this.built=!1,this.policyUrl="",this.viewObj=new b.CookiePrivacyView,void("object"!=typeof a?c.isString(a)&&(a={url:a},this.init(a)):this.init(a)))},adr.CookiePrivacy.prototype.init=function(a){var b=__imns("util.tools");if("object"==typeof a){"url"in a&&this.setUrl(a.url),"code"in a&&this.setCode(a.code),"codeEnd"in a&&this.setCodeEnd(a.codeEnd),"codeStart"in a&&this.setCodeStart(a.codeStart),"message"in a&&this.setMessage(a.message);var c=this;return b.fetter(document,"DOMContentLoaded",[this,function(){c.needs()}],!0,"both"),this.clean(),!0}return!1},adr.CookiePrivacy.prototype.clean=function(){var a=__imns("component.classes");try{a.CookiePrivacy.prototype.setUrl=function(){},a.CookiePrivacy.prototype.setCode=function(){},a.CookiePrivacy.prototype.setCodeEnd=function(){},a.CookiePrivacy.prototype.setCodeStart=function(){},a.CookiePrivacy.prototype.message=function(){},a.CookiePrivacy.prototype.init=function(){}}catch(a){}},adr.CookiePrivacy.prototype.setUrl=function(a){var b=__imns("util.validation");return!!b.isUrl(a)&&(this.policyUrl=a,!0)},adr.CookiePrivacy.prototype.setCode=function(a){var b=__imns("component.classes");return(new b.CookiePrivacyView).setCode(a)},adr.CookiePrivacy.prototype.setCodeStart=function(a){var b=__imns("component.classes");return(new b.CookiePrivacyView).setCodeStart(a)},adr.CookiePrivacy.prototype.setCodeEnd=function(a){var b=__imns("component.classes");return(new b.CookiePrivacyView).setCodeEnd(a)},adr.CookiePrivacy.prototype.setMessage=function(a){var b=__imns("component.classes");return(new b.CookiePrivacyView).setMessage(a)},adr.CookiePrivacy.prototype.hasSeen=function(){var a,b=(__imns("component.classes"),__imns("util.classes")),c=new b.CookieInterface;if(c.hasItem({name:"cookiemsg"})){a=c.findItem({name:"cookiemsg"});var d=(new Date).getTime()+31536e6;d=new Date(d),a.setExpires(d)}else a=new b.CookieObject({name:"cookiemsg",value:1,expires:(new Date).getTime()+6e5}),c.addItem(a)},adr.CookiePrivacy.prototype.buildMessage=function(){var a=__imns("component.classes");return(new a.CookiePrivacyView).view()},adr.CookiePrivacy.prototype.hide=function(){var a=__imns("util.dom"),b=__imns("util.validation"),c=a.findElementById(this.id);return!b.isHTMLElement(c)||(a.removeClass(c,"on"),!1)},adr.CookiePrivacy.prototype.display=function(){var a=__imns("util.dom"),b=__imns("util.tools"),c=__imns("util.validation"),d=a.findElementsByTag("body")[0];if(c.isHTMLElement(d)&&"innerHTML"in d){this.built||(d.innerHTML+=this.buildMessage(),this.built=!0);var e=a.findElementById(this.id);a.addClass(e,"on");var f=a.findElementById("closecookiemsg"),g=this;c.isHTMLElement(f)&&b.fetter(f,"click",[f,function(){g.hide()}],!0)}},adr.CookiePrivacy.prototype.needs=function(){if(this.hasSeen()){var a=__imns("component.classes");a.CookiePrivacy.prototype.display=function(){}}else this.display()});