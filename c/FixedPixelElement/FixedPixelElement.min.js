"use strict";function FixedPixelElements(){if(void 0!==FixedPixelElements.prototype.singleton)return FixedPixelElements.prototype.singleton;FixedPixelElements.prototype.singleton=this,this.initiated=!1,this.naturaldpi=96,this.zoom_compensate=!1,this.parts=[];var a=this;this.init(),fetter(window,"load",a.process,!0)}function FixedPixelElement(a){this.master=new FixedPixelElements,this.element=null,this.naturalWidth=0,this.naturalHeight=0,this.init(a)}FixedPixelElements.prototype.init=function(){this.initiated=!0,this.dpi=this.getDPI();var a=this;fetter(window,"resize",function(){debounce(function(){a.process()},500)})},FixedPixelElements.prototype.getDPI=function(){return"devicePixelRatio"in window&&isNumber(window.devicePixelRatio)?window.devicePixelRatio*this.naturaldpi:"logicalXDPI"in screen?screen.deviceXDPI/screen.logicalXDPI*this.naturaldpi:96},FixedPixelElements.prototype.add=function(a){if(void 0!==a&&isHTMLElement(a)){var b=this.findIndex(a);return-1!==b?this.parts[b]:(b=this.parts.length,this.parts.push(new FixedPixelElement(a)),this.parts[b])}return void 0},FixedPixelElements.prototype.findIndex=function(a){if(void 0!==a&&isHTMLElement(a)){for(var b=0,c=this.parts.length;c>b;b+=1)if(a===this.parts[b].element)return b;return-1}return-1},FixedPixelElements.prototype.process=function(){for(var a=0,b=this.parts.length;b>a;a+=1)this.parts[a].process()},FixedPixelElement.prototype.init=function(a){if(void 0!==a&&isHTMLElement(a)){if(this.element=a,"naturalWidth"in a)this.naturalWidth=parseFloat(a.naturalWidth),this.naturalHeight=parseFloat(a.naturalHeight);else if("nodeName"in a&&"img"===a.nodeName.toLowerCase()||"tagName"in a&&"img"===a.tagName.toLowerCase()&&"src"in a){var b=new Image;b.src=a.src,this.naturalWidth=b.width,this.naturalHeight=b.height}else this.naturalWidth=findElementStyle(a,"offsetWidth"),this.naturalHeight=findElementStyle(a,"offsetHeight");this.process()}},FixedPixelElement.prototype.process=function(){void 0!==this.element&&isHTMLElement(this.element)&&(this.element.style.width=this.naturalWidth/(this.master.dpi/this.master.naturaldpi)+"px",this.element.style.height=this.naturalHeight/(this.master.dpi/this.master.naturaldpi)+"px")};