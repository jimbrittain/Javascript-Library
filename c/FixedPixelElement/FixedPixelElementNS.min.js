"use strict";var adr=__imns("component.classes");"FixedPixelElements"in adr||(adr.FixedPixelElements=function(){var a=__imns("component.classes"),b=__imns("util.tools");if(void 0!==a.FixedPixelElements.prototype.singleton)return a.FixedPixelElements.prototype.singleton;a.FixedPixelElements.prototype.singleton=this,this.initiated=!1,this.naturaldpi=96,this.zoom_compensate=!1,this.parts=[];var c=this;this.init(),b.fetter(window,"load",[c,c.process],!0)},adr.FixedPixelElements.prototype.init=function(){var a=__imns("util.tools");this.initiated=!0,this.dpi=this.getDPI();var b=this;a.fetter(window,"resize",[b,function(){a.debounce(function(){b.process()},500)}],!0)},adr.FixedPixelElements.prototype.getDPI=function(){var a=__imns("util.validation");return"devicePixelRatio"in window&&a.isNumber(window.devicePixelRatio)?window.devicePixelRatio*this.naturaldpi:"logicalXDPI"in screen?screen.deviceXDPI/screen.logicalXDPI*this.naturaldpi:96},adr.FixedPixelElements.prototype.add=function(a){var b=__imns("util.validation"),c=__imns("component.classes");if(void 0!==a&&b.isHTMLElement(a)){var d=this.findIndex(a);return-1!==d?this.parts[d]:(d=this.parts.length,this.parts.push(new c.FixedPixelElement(a)),this.parts[d])}return void 0},adr.FixedPixelElements.prototype.findIndex=function(a){var b=__imns("util.validation");if(void 0!==a&&b.isHTMLElement(a)){for(var c=0,d=this.parts.length;d>c;c+=1)if(a===this.parts[c].element)return c;return-1}return-1},adr.FixedPixelElements.prototype.process=function(){for(var a=0,b=this.parts.length;b>a;a+=1)this.parts[a].process()},adr.FixedPixelElement=function(a){var b=__imns("component.classes");this.master=new b.FixedPixelElements,this.element=null,this.naturalWidth=0,this.naturalHeight=0,this.init(a)},adr.FixedPixelElement.prototype.init=function(a){var b=__imns("util.validation"),c=__imns("util.dom");if(void 0!==a&&b.isHTMLElement(a)){if(this.element=a,"naturalWidth"in a)this.naturalWidth=parseFloat(a.naturalWidth),this.naturalHeight=parseFloat(a.naturalHeight);else if("nodeName"in a&&"img"===a.nodeName.toLowerCase()||"tagName"in a&&"img"===a.tagName.toLowerCase()&&"src"in a){var d=new Image;d.src=a.src,this.naturalWidth=d.width,this.naturalHeight=d.height}else this.naturalWidth=c.findElementStyle(a,"offsetWidth"),this.naturalHeight=c.findElementStyle(a,"offsetHeight");this.process()}},adr.FixedPixelElement.prototype.process=function(){var a=__imns("util.validation");void 0!==this.element&&a.isHTMLElement(this.element)&&(this.element.style.width=this.naturalWidth/(this.master.dpi/this.master.naturaldpi)+"px",this.element.style.height=this.naturalHeight/(this.master.dpi/this.master.naturaldpi)+"px")});