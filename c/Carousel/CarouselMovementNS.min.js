"use strict";var adr=__imns("component.classes");"CarouselMovement"in adr||(adr.CarouselMovement=function(a,b){this.distance="",this.target="",this.carousel=null,this.init(a,b)},adr.CarouselMovement.prototype.init=function(a,b){var c=__imns("util.validation"),d=__imns("component.classes");if(a instanceof d.Carousel){if(this.carousel=a,c.isNumber(b))return this.setDistance(b),!0}else if("object"==typeof a){if("carousel"in a&&this.setCarousel(a.carousel),"target"in a)return this.setTarget(a.target),null!==this.carousel;if("distance"in a)return this.setDistance(a.distance),null!==this.carousel}return""===this.target&&""===this.distance&&this.setDistance(0),!1},adr.CarouselMovement.prototype.setCarousel=function(a){return this.carousel=a instanceof __imns("component.classes").Carousel?a:this.carousel,this.carousel===a},adr.CarouselMovement.prototype.setDistance=function(a){return this.distance=__imns("util.validation").isNumber(a)?Math.round(a):this.distance,""!==this.distance&&(this.target=""),this.distance===a},adr.CarouselMovement.prototype.setTarget=function(a){return this.target=__imns("util.validation").isNumber(a)?Math.round(a):this.target,""!==this.target&&(this.distance=""),this.target===a},adr.CarouselMovement.prototype.getPriority=function(){return""!==this.target?"target":""!==this.distance&&"distance"},adr.CarouselMovement.prototype.getDistance=function(){var a=0,b=this.carousel.numberOfItems();if(""!==this.distance)return a=this.carousel.on.id+this.distance,a>=this.carousel.last&&!this.carousel.canLoopForwards()?this.carousel.last-1-this.carousel.on.id:a<this.carousel.first&&!this.carousel.canLoopBackwards()?0-this.carousel.on.id:this.distance;var c=this.getTarget();return c>this.carousel.first&&c<this.carousel.last?this.target-this.carousel.on.id:c<0?this.carousel.canLoopBackwards()?(a=b-c%b,a-this.carousel.on.id):0-this.carousel.on.id:this.carousel.canLoopForwards()?void(a=c%b):b-1-this.carousel.on.id},adr.CarouselMovement.prototype.getTarget=function(){if(""!==this.target)return this.target<this.carousel.first?this.carousel.first:this.target>=this.carousel.last?this.carousel.last-1:this.target;var a=this.getDistance(),b=this.carousel.on.id+a;if(b<this.carousel.first){if(this.carousel.canLoopBackwards()){var c=b%this.carousel.numberOfItems();return c<0?this.carousel.numberOfItems()+c:c}return this.carousel.first}return b>=this.carousel.last?this.carousel.canLoopForwards()?b%this.carousel.numberOfItems():this.carousel.last-1:b},adr.CarouselMovement.prototype.update=function(a){switch(this.getPriority()){case"target":return this.target+=a,!0;case"distance":return this.distance-=a,!0}return!1},adr.CarouselMovement.prototype.getBufferedDistance=function(){var a=this.getDistance();return this.carousel.shouldUseBuffer(this)&&this.carousel.buffer>0&&(a>0?a+=this.carousel.buffer:a<0&&(a-=this.carousel.buffer)),a},adr.CarouselMovement.prototype.getBufferedTarget=function(){var a=this.getTarget(),b=this.getDistance();return this.carousel.shouldUseBuffer(this)&&this.carousel.buffer>0&&(b>0?a+=this.carousel.buffer:b<0&&(a-=this.carousel.buffer)),a<this.carousel.first&&console.log("outside of scope (-) getBufferedTarget"),a>this.carousel.last&&console.log("outside of scope (+) getBufferedTarget"),a});